(()=>{let e=document.getElementById("debug_msg");const t=document.getElementById("player");let n=[];navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((r=>{e.innerText+="\nInit audio recorder...\n";const a="audio/webm;codecs=opus",o=new MediaRecorder(r,{type:a});e.innerText+="Start recording...\n",o.ondataavailable=e=>{console.log("recording..."),e.data&&e.data.size>0&&n.push(e.data)},o.start({mimeType:a},5),setTimeout((()=>{e.innerText+="Stop recording...\n",o.stop(),function(t,n){e.innerText+="Replay the audio...\n";const r=URL.createObjectURL(t);n.setAttribute("src",r)}(new Blob(n,{type:a}),t),n=[]}),6e3)})).catch((t=>{e.innerText+="[Error] Can't capture audio\n",e.innerText+="[Error] "+t.name+": "+t.message+"\n"}))})();